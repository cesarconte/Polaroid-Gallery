import{v as A,a5 as R,f as S,O as j,q as p,Q as q,g as m,w as e,R as N,S as L,r as v,o as i,b as a,Y as w,d as r,a1 as P,a2 as D,a as s,t,j as o,k as M,c as E,Z as O,F as Q,$ as Y}from"./index-CBL1Pzhd.js";const Z={class:"mb-4"},G={class:"ml-8 mb-4"},H={class:"ml-8 mb-4"},I={class:"ml-8 mb-4"},J={class:"pt-1"},K={class:"mb-12"},W={class:"ml-8 mb-4"},X={class:"ml-8 mb-4"},ee={class:"ml-8 mb-4"},ae=s("h3",{class:"pb-4"},"Published Polaroids",-1),te={__name:"UserView",props:["user"],setup(le){const C=A(),U=R(),T=S([]),h=S([]),V=async()=>{await B(),await $()},B=async()=>{const u=N(C,"users"),_=await L(u);T.value=_.docs.map(c=>({id:c.id,...c.data()}))},$=async()=>{const u=N(C,"cards"),_=await L(u);h.value=_.docs.map(c=>({id:c.id,...c.data()}))};j(async()=>{V()});const l=p(()=>T.value.find(u=>u.fullName===U.params.fullName)),g=p(()=>!l.value||!l.value.createdCards?[]:h.value.filter(u=>l.value.createdCards.includes(u.id))),y=p(()=>g.value.reduce((u,_)=>u+_.likes,0)),F=p(()=>!l.value||!l.value.createdCards?0:h.value.filter(u=>l.value.createdCards.includes(u.id)&&u.isFavorite).length),{smAndDown:n}=q();return(u,_)=>{const c=v("v-col"),d=v("v-icon"),f=v("v-row"),b=v("v-sheet"),k=v("v-container"),z=v("v-responsive");return i(),m(z,null,{default:e(()=>[a(k,{fluid:""},{default:e(()=>[a(k,{fluid:"",class:w(r(n)?"mx-0 px-0":"")},{default:e(()=>[l.value?(i(),m(f,{key:0},{default:e(()=>[a(c,{cols:r(n)?"12":"9 mx-auto"},{default:e(()=>[r(n)?(i(),m(b,{key:0,class:"border rounded-t-xl pa-4"},{default:e(()=>[a(f,null,{default:e(()=>[a(c,{cols:r(n)?"12":"auto",class:"pb-0"},{default:e(()=>[a(P,{avatarSize:"96"},{default:e(()=>[a(D,{imgSrc:l.value.avatar,cover:""},null,8,["imgSrc"])]),_:1})]),_:1},8,["cols"]),a(c,{cols:r(n)?"12":"auto"},{default:e(()=>[s("h2",Z,t(l.value.fullName),1),s("div",null,[s("p",null,[a(d,{class:"mr-1"},{default:e(()=>[o("mdi-account-heart-outline")]),_:1}),o(" Total Followers: "+t(l.value.followers.length),1)]),s("p",G," Total Users Following: "+t(l.value.following.length),1),s("p",null,[a(d,{class:"mr-1"},{default:e(()=>[o("mdi-bookmark-outline")]),_:1}),o(" Total Favorites: "+t(F.value),1)]),s("p",H," Total My Favorites: "+t(l.value.favoriteCards.length),1),s("p",null,[a(d,{class:"mr-1"},{default:e(()=>[o("mdi-thumb-up-outline")]),_:1}),o(" Total Likes: "+t(y.value),1)]),s("p",I," Total My Likes: "+t(l.value.likeCards.length),1),s("p",J,[a(d,{class:"mr-1"},{default:e(()=>[o("mdi-image-outline")]),_:1}),o(" Total Published Polaroids: "+t(l.value.createdCards.length),1)])])]),_:1},8,["cols"])]),_:1})]),_:1})):(i(),m(b,{key:1,class:"border rounded-t-xl pa-4"},{default:e(()=>[a(f,null,{default:e(()=>[a(c,{class:w(r(n)?"text-left":"text-right"),cols:r(n)?"12":"6"},{default:e(()=>[a(P,{avatarSize:"96"},{default:e(()=>[a(D,{imgSrc:l.value.avatar,cover:""},null,8,["imgSrc"])]),_:1})]),_:1},8,["class","cols"]),a(c,{cols:r(n)?"12":"6"},{default:e(()=>[s("h2",K,t(l.value.fullName),1),s("div",null,[s("p",null,[a(d,{class:"mr-1"},{default:e(()=>[o("mdi-account-heart-outline")]),_:1}),o(" Total Followers: "+t(l.value.followers.length),1)]),s("p",W," Total Users Following: "+t(l.value.following.length),1),s("p",null,[a(d,{class:"mr-1"},{default:e(()=>[o("mdi-bookmark-outline")]),_:1}),o(" Total Favorites: "+t(F.value),1)]),s("p",X," Total My Favorites: "+t(l.value.favoriteCards.length),1),s("p",null,[a(d,{class:"mr-1"},{default:e(()=>[o("mdi-thumb-up-outline")]),_:1}),o(" Total Likes: "+t(y.value),1)]),s("p",ee," Total My Likes: "+t(l.value.likeCards.length),1),s("p",null,[a(d,{class:"mr-1"},{default:e(()=>[o("mdi-image-outline")]),_:1}),o(" Total Published Polaroids: "+t(l.value.createdCards.length),1)])])]),_:1},8,["cols"])]),_:1})]),_:1}))]),_:1},8,["cols"])]),_:1})):M("",!0)]),_:1},8,["class"]),a(k,{fluid:"",class:w(r(n)?"mx-0 px-0":"")},{default:e(()=>[a(f,null,{default:e(()=>[a(c,{cols:r(n)?"12":"9 mx-auto"},{default:e(()=>[l.value&&g.value.length>0?(i(),m(b,{key:0,"min-height":"31.624vh",class:"pa-4 border rounded-b-xl"},{default:e(()=>[ae,a(f,{class:"d-flex flex-wrap mx-auto"},{default:e(()=>[(i(!0),E(Q,null,O(g.value,x=>(i(),m(c,{cols:"12",sm:"8 mx-auto",lg:"6",key:x.id,card:x},{default:e(()=>[a(Y,{card:x,class:"mx-0"},null,8,["card"])]),_:2},1032,["card"]))),128))]),_:1})]),_:1})):M("",!0)]),_:1},8,["cols"])]),_:1})]),_:1},8,["class"])]),_:1})]),_:1})}}};export{te as default};
